(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-01b11640","chunk-2d225d5a"],{"62c4":function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"system-user-container layout-padding"},[a("el-card",{staticClass:"layout-padding-auto",attrs:{shadow:"hover"}},[a("div",{staticClass:"system-user-search mb15"},[a("el-input",{staticStyle:{"max-width":"180px"},attrs:{size:"default",placeholder:"请输入名称"},model:{value:t.state.tableData.param.keyword,callback:function(e){t.$set(t.state.tableData.param,"keyword",e)},expression:"state.tableData.param.keyword"}}),a("el-button",{staticClass:"ml10",attrs:{size:"default",type:"primary"},on:{click:function(e){return t.fetchData()}}},[a("el-icon",[a("ele-Search")],1),t._v(" 查询 ")],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.state.tableData.loading,expression:"state.tableData.loading"}],staticStyle:{width:"100%"},attrs:{data:t.state.tableData.data}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"60"}}),a("el-table-column",{attrs:{prop:"tableName",label:"表名","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"tableComment",label:"描述","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"engine",label:"引擎","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"createTime",label:"创建时间","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"small",text:"",type:"primary"},on:{click:function(a){return t.onOpenAddOrEdit("edit",e.row)}}},[t._v(" 生成 ")])]}}])})],1),a("el-pagination",{staticClass:"mt15",attrs:{"pager-count":5,"page-sizes":[10,20,30],"current-page":t.state.tableData.param.current,background:"","page-size":t.state.tableData.param.limit,layout:"total, sizes, prev, pager, next, jumper",total:t.state.tableData.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),a("el-dialog",{attrs:{title:t.state.dialog.title,visible:t.state.dialog.isShowDialog,width:"769px"},on:{"update:visible":function(e){return t.$set(t.state.dialog,"isShowDialog",e)}}},[a("div",[a("el-form",{ref:"userDialogFormRef",attrs:{model:t.state.ruleForm,size:"default","label-width":"130px"}},[a("el-row",{attrs:{gutter:35}},[a("el-col",{staticClass:"mb20",attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("el-form-item",{attrs:{label:"表名"}},[a("el-input",{attrs:{disabled:!0},model:{value:t.state.ruleForm.tableName,callback:function(e){t.$set(t.state.ruleForm,"tableName",e)},expression:"state.ruleForm.tableName"}})],1)],1),a("el-col",{staticClass:"mb20",attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("el-form-item",{attrs:{label:"模块名"}},[a("el-input",{model:{value:t.state.ruleForm.moduleName,callback:function(e){t.$set(t.state.ruleForm,"moduleName",e)},expression:"state.ruleForm.moduleName"}})],1)],1),a("el-col",{staticClass:"mb20",attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("el-form-item",{attrs:{label:"RequestMapping"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.state.ruleForm.requestMapping,callback:function(e){t.$set(t.state.ruleForm,"requestMapping",e)},expression:"state.ruleForm.requestMapping"}},[a("template",{slot:"prepend"},[t._v(t._s(t.state.ruleForm.moduleName)+"/")])],2)],1)],1),a("el-col",{staticClass:"mb20",attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("el-form-item",{attrs:{label:"后台包路径"}},[a("el-input",{model:{value:t.state.ruleForm.packagePath,callback:function(e){t.$set(t.state.ruleForm,"packagePath",e)},expression:"state.ruleForm.packagePath"}})],1)],1),a("el-col",{staticClass:"mb20",attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("el-form-item",{attrs:{label:"Restful接口"}},[a("el-switch",{model:{value:t.state.ruleForm.useRestful,callback:function(e){t.$set(t.state.ruleForm,"useRestful",e)},expression:"state.ruleForm.useRestful"}})],1)],1),a("el-col",{staticClass:"mb20",attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("el-form-item",{attrs:{label:"字段驼峰"}},[a("el-switch",{model:{value:t.state.ruleForm.useHump,callback:function(e){t.$set(t.state.ruleForm,"useHump",e)},expression:"state.ruleForm.useHump"}})],1)],1),a("el-col",{staticClass:"mb20",attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("el-form-item",{attrs:{label:"生成文件"}},[a("el-checkbox",{attrs:{label:"Controller"},model:{value:t.state.ruleForm.fileController,callback:function(e){t.$set(t.state.ruleForm,"fileController",e)},expression:"state.ruleForm.fileController"}}),a("el-checkbox",{attrs:{label:"Service/Impl"},model:{value:t.state.ruleForm.fileServiceImpl,callback:function(e){t.$set(t.state.ruleForm,"fileServiceImpl",e)},expression:"state.ruleForm.fileServiceImpl"}}),a("el-checkbox",{attrs:{label:"Mapper"},model:{value:t.state.ruleForm.fileMapper,callback:function(e){t.$set(t.state.ruleForm,"fileMapper",e)},expression:"state.ruleForm.fileMapper"}}),a("el-checkbox",{attrs:{label:"Entity"},model:{value:t.state.ruleForm.fileEntity,callback:function(e){t.$set(t.state.ruleForm,"fileEntity",e)},expression:"state.ruleForm.fileEntity"}}),a("el-checkbox",{attrs:{label:"Mapper.xml"},model:{value:t.state.ruleForm.fileMapperXml,callback:function(e){t.$set(t.state.ruleForm,"fileMapperXml",e)},expression:"state.ruleForm.fileMapperXml"}})],1)],1),a("el-col",{staticClass:"mb20",attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("el-form-item",{attrs:{label:"后台项目根目录"}},[a("el-input",{model:{value:t.state.ruleForm.filePath,callback:function(e){t.$set(t.state.ruleForm,"filePath",e)},expression:"state.ruleForm.filePath"}})],1)],1),a("el-col",{staticClass:"mb20",attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("el-form-item",{attrs:{label:"是否生成UI页面"}},[a("el-switch",{model:{value:t.state.ruleForm.genUi,callback:function(e){t.$set(t.state.ruleForm,"genUi",e)},expression:"state.ruleForm.genUi"}})],1)],1),a("el-col",{staticClass:"mb20",attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("el-form-item",{attrs:{label:"前台项目目录"}},[a("el-input",{attrs:{disabled:!t.state.ruleForm.genUi},model:{value:t.state.ruleForm.uiFilePath,callback:function(e){t.$set(t.state.ruleForm,"uiFilePath",e)},expression:"state.ruleForm.uiFilePath"}})],1)],1),a("el-col",{staticClass:"mb20",attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("el-form-item",{attrs:{label:"author"}},[a("el-input",{model:{value:t.state.ruleForm.author,callback:function(e){t.$set(t.state.ruleForm,"author",e)},expression:"state.ruleForm.author"}})],1)],1),a("el-col",{staticClass:"mb20",attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("el-form-item",{attrs:{label:"email"}},[a("el-input",{model:{value:t.state.ruleForm.email,callback:function(e){t.$set(t.state.ruleForm,"email",e)},expression:"state.ruleForm.email"}})],1)],1)],1),[a("span",{staticClass:"dialog-footer"},[a("el-button",{attrs:{size:"default"},on:{click:t.onCancel}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary",loading:t.state.submitBtn.loading,size:"default"},on:{click:t.onSubmit}},[t._v("生 成")]),t._v("    "),a("el-tag",{attrs:{type:"warning"}},[t._v("代码生成后，需要进行代码格式化")])],1)]],2)],1)])],1)},s=[],r=a("e5a5"),o={name:"user",data(){return{state:{roleListData:[],tableData:{data:[],total:0,loading:!1,param:{current:1,limit:10,keyword:""}},dialog:{isShowDialog:!1,type:"",title:"",submitTxt:""},ruleForm:{tableName:"",mainPath:"com.suke.czx",packagePath:"com.suke.czx.modules",filePath:"E:\\github\\X-SpringBoot",uiFilePath:"E:\\github\\x-springboot-ui",moduleName:"user",requestMapping:"user",author:"czx",email:"object_czx@163.com",useRestful:!1,useHump:!0,fileController:!0,fileServiceImpl:!0,fileMapper:!0,fileMapperXml:!1,fileEntity:!0,genUi:!0},submitBtn:{loading:!1,type:""}}}},methods:{fetchData(){this.state.tableData.loading=!0,Object(r["useCodeGenApi"])().list(this.state.tableData.param).then(t=>{this.state.tableData.data=t.data.records,this.state.tableData.total=t.data.total,this.state.tableData.loading=!1})},onOpenAddOrEdit(t,e){console.log(e),this.state.ruleForm.tableName=e.tableName,this.state.dialog.title="生成配置",this.state.dialog.submitTxt="配 置",this.state.dialog.isShowDialog=!0},onSubmit(){this.state.ruleForm.tableName?(this.state.submitBtn.loading=!0,Object(r["useCodeGenApi"])().create(this.state.ruleForm).then(t=>{this.$message("代码生成成功！"),this.state.submitBtn.loading=!1,this.closeDialog(),this.fetchData()}).catch(()=>{this.state.submitBtn.loading=!1})):this.$message("先选择表再操作")},handleSizeChange(t){this.state.tableData.data=[],this.state.tableData.param.limit=t,this.fetchData()},handleCurrentChange(t){this.state.tableData.data=[],this.state.tableData.param.current=t,this.fetchData()},closeDialog(){this.state.dialog.isShowDialog=!1},onCancel(){this.closeDialog()}},computed:{},created(){},mounted(){this.fetchData()}},i=o,m=a("2877"),u=Object(m["a"])(i,l,s,!1,null,"55a1be2e",null);e["default"]=u.exports},e5a5:function(t,e,a){"use strict";a.r(e),a.d(e,"useCodeGenApi",(function(){return s}));var l=a("b775");function s(){return{list:t=>Object(l["default"])({url:"/sys/gen/list",method:"get",params:t}),create:t=>Object(l["default"])({url:"/sys/gen/create",method:"post",data:t})}}}}]);