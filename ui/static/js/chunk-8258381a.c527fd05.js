(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8258381a","chunk-2d2263aa"],{"832a":function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"system-user-container layout-padding"},[a("el-card",{staticClass:"layout-padding-auto",attrs:{shadow:"hover"}},[a("div",{staticClass:"system-user-search mb15"},[a("el-input",{staticStyle:{"max-width":"180px"},attrs:{size:"default",placeholder:"请输入名称"},model:{value:t.state.tableData.param.keyword,callback:function(e){t.$set(t.state.tableData.param,"keyword",e)},expression:"state.tableData.param.keyword"}}),a("el-button",{staticClass:"ml10",attrs:{size:"default",type:"primary"},on:{click:function(e){return t.fetchData()}}},[a("el-icon",[a("ele-Search")],1),t._v(" 查询 ")],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.state.tableData.loading,expression:"state.tableData.loading"}],staticStyle:{width:"100%"},attrs:{data:t.state.tableData.data}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"60"}}),a("el-table-column",{attrs:{prop:"username",label:"用户名","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"operation",label:"用户操作","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"method",label:"请求方法","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"params",label:"请求参数","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"time",label:"执行时长(毫秒)","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"ip",label:"IP地址","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"createDate",label:"操作时间","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"small",text:"",type:"primary"},on:{click:function(a){return t.onOpenAddOrEdit("edit",e.row)}}},[t._v(" 查看 ")])]}}])})],1),a("el-pagination",{staticClass:"mt15",attrs:{"pager-count":5,"page-sizes":[10,20,30],"current-page":t.state.tableData.param.current,background:"","page-size":t.state.tableData.param.limit,layout:"total, sizes, prev, pager, next, jumper",total:t.state.tableData.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),a("el-dialog",{attrs:{title:t.state.dialog.title,visible:t.state.dialog.isShowDialog,width:"769px"},on:{"update:visible":function(e){return t.$set(t.state.dialog,"isShowDialog",e)}}},[a("div",[a("el-form",{ref:"userDialogFormRef",attrs:{model:t.state.ruleForm,size:"default","label-width":"90px"}},[a("el-row",{attrs:{gutter:35}},[a("el-col",{staticClass:"mb20",attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("el-form-item",{attrs:{label:"用户名"}},[a("el-input",{attrs:{placeholder:"请输入账户名称",clearable:""},model:{value:t.state.ruleForm.username,callback:function(e){t.$set(t.state.ruleForm,"username",e)},expression:"state.ruleForm.username"}})],1)],1),a("el-col",{staticClass:"mb20",attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("el-form-item",{attrs:{label:"用户操作"}},[a("el-input",{attrs:{placeholder:"请输入",clearable:""},model:{value:t.state.ruleForm.operation,callback:function(e){t.$set(t.state.ruleForm,"operation",e)},expression:"state.ruleForm.operation"}})],1)],1),a("el-col",{staticClass:"mb20",attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("el-form-item",{attrs:{label:"请求方法"}},[a("el-input",{attrs:{placeholder:"",clearable:""},model:{value:t.state.ruleForm.method,callback:function(e){t.$set(t.state.ruleForm,"method",e)},expression:"state.ruleForm.method"}})],1)],1),a("el-col",{staticClass:"mb20",attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("el-form-item",{attrs:{label:"请求参数"}},[a("el-input",{attrs:{placeholder:"请输入",clearable:""},model:{value:t.state.ruleForm.params,callback:function(e){t.$set(t.state.ruleForm,"params",e)},expression:"state.ruleForm.params"}})],1)],1),a("el-col",{staticClass:"mb20",attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("el-form-item",{attrs:{label:"执行时长(毫秒)"}},[a("el-input",{attrs:{placeholder:"请输入",clearable:""},model:{value:t.state.ruleForm.time,callback:function(e){t.$set(t.state.ruleForm,"time",e)},expression:"state.ruleForm.time"}})],1)],1),a("el-col",{staticClass:"mb20",attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("el-form-item",{attrs:{label:"ip地址"}},[a("el-input",{attrs:{placeholder:"请输入",clearable:""},model:{value:t.state.ruleForm.ip,callback:function(e){t.$set(t.state.ruleForm,"ip",e)},expression:"state.ruleForm.ip"}})],1)],1),a("el-col",{staticClass:"mb20",attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("el-form-item",{attrs:{label:"操作时间"}},[a("el-input",{attrs:{placeholder:"请输入",clearable:""},model:{value:t.state.ruleForm.createDate,callback:function(e){t.$set(t.state.ruleForm,"createDate",e)},expression:"state.ruleForm.createDate"}})],1)],1)],1)],1)],1)])],1)},s=[],r=a("e889"),o={name:"user",data(){return{state:{roleListData:[],tableData:{data:[],total:0,loading:!1,param:{current:1,limit:10,keyword:""}},dialog:{isShowDialog:!1,type:"",title:"",submitTxt:""},ruleForm:{username:"",operation:"",method:"",params:"",time:"",ip:"",createDate:""}}}},methods:{fetchData(){this.state.tableData.loading=!0,Object(r["useOptionLogApi"])().list(this.state.tableData.param).then(t=>{this.state.tableData.data=t.data.records,this.state.tableData.total=t.data.total,this.state.tableData.loading=!1})},onOpenAddOrEdit(t,e){this.state.ruleForm=e,this.state.dialog.title="查看日志",this.state.dialog.submitTxt="查 看",this.state.dialog.isShowDialog=!0},handleSizeChange(t){this.state.tableData.data=[],this.state.tableData.param.limit=t,this.fetchData()},handleCurrentChange(t){this.state.tableData.data=[],this.state.tableData.param.current=t,this.fetchData()},closeDialog(){this.state.dialog.isShowDialog=!1},onCancel(){this.closeDialog()}},computed:{},created(){},mounted(){this.fetchData()}},i=o,n=a("2877"),m=Object(n["a"])(i,l,s,!1,null,"7af85786",null);e["default"]=m.exports},e889:function(t,e,a){"use strict";a.r(e),a.d(e,"useOptionLogApi",(function(){return s}));var l=a("b775");function s(){return{list:t=>Object(l["default"])({url:"/sys/log/list",method:"get",params:t}),loginList:t=>Object(l["default"])({url:"/sys/log/loginList",method:"get",params:t})}}}}]);