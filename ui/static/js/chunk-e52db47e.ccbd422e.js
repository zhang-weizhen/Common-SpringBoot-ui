(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e52db47e","chunk-ff31051a","chunk-06a73c8a","chunk-4902d458","chunk-5a3c347e","chunk-3bef995a","chunk-698ac6ec","chunk-248f934e","chunk-2d226929","chunk-2d0cf678","chunk-2d0aa786"],{"0f3e":function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"layout-scrollbar layout-link-container"},[s("div",{staticClass:"layout-view-bg-white flex layout-view-link"},[s("div",{staticClass:"layout-link-warp"},[s("i",{staticClass:"layout-link-icon iconfont icon-xingqiu"}),s("div",{staticClass:"layout-link-msg"},[e._v('页面 "'+e._s(e.$t(e.meta.title))+'" 已在新窗口中打开')]),s("el-button",{staticClass:"mt30",attrs:{round:"",size:"small"},on:{click:e.onGotoFullPage}},[s("i",{staticClass:"iconfont icon-lianjie"}),s("span",[e._v("立即前往体验")])])],1)])])},a=[],n=s("10c4"),r={name:"layoutLinkView",props:{meta:{type:Object,default:()=>{}}},methods:{onGotoFullPage(){const{origin:e,pathname:t}=window.location;Object(n["verifyUrl"])(this.meta.isLink)?window.open(this.meta.isLink):window.open(`${e}${t}#${this.meta.isLink}`)}}},o=r,u=(s("2838"),s("2877")),l=Object(u["a"])(o,i,a,!1,null,"444cfd7e",null);t["default"]=l.exports},"10c4":function(e,t,s){"use strict";function i(e){let t=e.replace(/(^\s*)|(\s*$)/g,"");return t=t.replace(/[^\d]/g,""),t=t.replace(/^0/g,""),t=t.replace(/^[1-9]\d\d{1,3}$/,"100"),t}function a(e){let t=n(e);return t=t.replace(/^[1-9]\d\d{1,3}$/,"100"),t=t.replace(/^100\.$/,"100"),t}function n(e){let t=e.replace(/(^\s*)|(\s*$)/g,"");return t=t.replace(/[^\d.]/g,""),t=t.replace(/^0{2}$/g,"0"),t=t.replace(/^\./g,""),t=t.replace(".","$#$").replace(/\./g,"").replace("$#$","."),t=t.replace(/^(\\-)*(\d+)\.(\d\d).*$/,"$1$2.$3"),t}function r(e){let t=e.replace(/(^\s*)|(\s*$)/g,"");return t=t.replace(/[\\.]*/g,""),t=t.replace(/(^0[\d]*)$/g,"0"),t=t.replace(/^0\d$/g,"0"),t=t.replace(/[^\d]/g,""),t}function o(e){let t=e.replace(/[\u4e00-\u9fa5\s]+/g,"");return t=t.replace(/(^\s*)|(\s*$)/g,""),t}function u(e){let t=e.replace(/[a-zA-Z]+/g,"");return t=t.replace(/(^\s*)|(\s*$)/g,""),t}function l(e){let t=e.replace(/(^\s*)|(\s*$)/g,"");return t}function c(e){let t=n(e);return t=t.toString().split("."),t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t=t.join("."),t}function d(e,t="",s="red"){let i=t.replace(new RegExp(e,"gi"),`<span style='color: ${s}'>${e}</span>`);return i}function h(e,t="仟佰拾亿仟佰拾万仟佰拾元角分",s=""){e+="00";let i=e.indexOf(".");i>=0&&(e=e.substring(0,i)+e.substr(i+1,2)),t=t.substr(t.length-e.length);for(let a=0;a<e.length;a++)s+="零壹贰叁肆伍陆柒捌玖".substr(e.substr(a,1),1)+t.substr(a,1);return s=s.replace(/零角零分$/,"整").replace(/零[仟佰拾]/g,"零").replace(/零{2,}/g,"零").replace(/零([亿|万])/g,"$1").replace(/零+元/,"元").replace(/亿零{0,3}万/,"亿").replace(/^元/,"零元"),s}function f(e){return!!/^((12[0-9])|(13[0-9])|(14[5|7])|(15([0-3]|[5-9]))|(18[0,5-9]))\d{8}$/.test(e)}function m(e){return!!/\d{3}-\d{8}|\d{4}-\d{7}/.test(e)}function g(e){return!!/^[a-zA-Z][a-zA-Z0-9_]{4,15}$/.test(e)}function p(e){return!!/^[a-zA-Z]\w{5,15}$/.test(e)}function w(e){return!!/^(?![a-zA-z]+$)(?!\d+$)(?![!@#$%^&\\.*]+$)(?![a-zA-z\d]+$)(?![a-zA-z!@#$%^&\\.*]+$)(?![\d!@#$%^&\\.*]+$)[a-zA-Z\d!@#$%^&\\.*]{6,16}$/.test(e)}function C(e){let t="";return/^(?:\d+|[a-zA-Z]+|[!@#$%^&\\.*]+){6,16}$/.test(e)&&(t="弱"),/^(?![a-zA-z]+$)(?!\d+$)(?![!@#$%^&\\.*]+$)[a-zA-Z\d!@#$%^&\\.*]{6,16}$/.test(e)&&(t="中"),/^(?![a-zA-z]+$)(?!\d+$)(?![!@#$%^&\\.*]+$)(?![a-zA-z\d]+$)(?![a-zA-z!@#$%^&\\.*]+$)(?![\d!@#$%^&\\.*]+$)[a-zA-Z\d!@#$%^&\\.*]{6,16}$/.test(e)&&(t="强"),t}function $(e){return!!/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/.test(e)}function v(e){return!!/^(([^<>()\\[\]\\.,;:\s@"]+(\.[^<>()\\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}function y(e){return!!/^[1-9]\d{5}(18|19|20)\d{2}((0[1-9])|(1[0-2]))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/.test(e)}function x(e){return!!/^[\u4e00-\u9fa5]{1,6}(·[\u4e00-\u9fa5]{1,6}){0,2}$/.test(e)}function b(e){return!!/^[1-9][0-9]{5}$/.test(e)}function L(e){return!!/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(e)}function V(e){return!!/^(([京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领][A-Z](([0-9]{5}[DF])|([DF]([A-HJ-NP-Z0-9])[0-9]{4})))|([京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领][A-Z][A-HJ-NP-Z0-9]{4}[A-HJ-NP-Z0-9挂学警港澳使领]))$/.test(e)}s.r(t),s.d(t,"verifyNumberPercentage",(function(){return i})),s.d(t,"verifyNumberPercentageFloat",(function(){return a})),s.d(t,"verifyNumberIntegerAndFloat",(function(){return n})),s.d(t,"verifiyNumberInteger",(function(){return r})),s.d(t,"verifyCnAndSpace",(function(){return o})),s.d(t,"verifyEnAndSpace",(function(){return u})),s.d(t,"verifyAndSpace",(function(){return l})),s.d(t,"verifyNumberComma",(function(){return c})),s.d(t,"verifyTextColor",(function(){return d})),s.d(t,"verifyNumberCnUppercase",(function(){return h})),s.d(t,"verifyPhone",(function(){return f})),s.d(t,"verifyTelPhone",(function(){return m})),s.d(t,"verifyAccount",(function(){return g})),s.d(t,"verifyPassword",(function(){return p})),s.d(t,"verifyPasswordPowerful",(function(){return w})),s.d(t,"verifyPasswordStrength",(function(){return C})),s.d(t,"verifyIPAddress",(function(){return $})),s.d(t,"verifyEmail",(function(){return v})),s.d(t,"verifyIdCard",(function(){return y})),s.d(t,"verifyFullName",(function(){return x})),s.d(t,"verifyPostalCode",(function(){return b})),s.d(t,"verifyUrl",(function(){return L})),s.d(t,"verifyCarNum",(function(){return V}))},"22df":function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-menu",{attrs:{router:"","background-color":"transparent","default-active":e.defaultActive,collapse:e.setIsCollapse,"unique-opened":e.getThemeConfig.isUniqueOpened,"collapse-transition":!1}},[e._l(e.menuList,(function(t){return[t.children&&t.children.length>0?s("el-submenu",{key:t.path,attrs:{index:t.path}},[s("template",{slot:"title"},[s("i",{class:t.meta.icon?t.meta.icon:""}),s("span",[e._v(e._s(e.$t(t.meta.title)))])]),s("SubItem",{attrs:{chil:t.children}})],2):[s("el-menu-item",{key:t.path,attrs:{index:t.path}},[s("i",{class:t.meta.icon?t.meta.icon:""}),!t.meta.isLink||t.meta.isLink&&t.meta.isIframe?s("template",{slot:"title"},[s("span",[e._v(e._s(e.$t(t.meta.title)))])]):s("template",{slot:"title"},[s("a",{attrs:{href:t.meta.isLink,target:"_blank"}},[e._v(e._s(e.$t(t.meta.title)))])])],2)]]}))],2)},a=[],n=s("7686"),r={name:"navMenuVertical",components:{SubItem:n["default"]},props:{menuList:{type:Array,default(){return[]}}},data(){return{defaultActive:this.$route.path}},computed:{getThemeConfig(){return this.$store.state.themeConfig.themeConfig},setIsCollapse(){return!(document.body.clientWidth<1e3)&&this.$store.state.themeConfig.themeConfig.isCollapse}},watch:{$route:{handler(e){this.defaultActive=e.path;const t=document.body.clientWidth;t<1e3&&(this.$store.state.themeConfig.themeConfig.isCollapse=!1)},deep:!0}}},o=r,u=s("2877"),l=Object(u["a"])(o,i,a,!1,null,null,null);t["default"]=l.exports},"241d":function(e,t,s){"use strict";s("ec81")},2838:function(e,t,s){"use strict";s("7aeb")},"29fe":function(e,t,s){},"3d8f":function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-container",{staticClass:"layout-container flex-center"},[s("Headers"),s("el-container",{staticClass:"layout-mian-height-50"},[s("Asides"),s("div",{staticClass:"flex-center layout-backtop"},[e.getThemeConfig.isTagsview?s("TagsView"):e._e(),s("Mains")],1)],1),s("el-backtop",{attrs:{target:".layout-backtop .el-main .el-scrollbar__wrap"}})],1)},a=[],n=s("5da5"),r=s("bb39"),o=s("3eeb"),u=s("cd49"),l={name:"layoutClassic",components:{Asides:n["default"],Headers:r["default"],Mains:o["default"],TagsView:u["default"]},computed:{getThemeConfig(){return this.$store.state.themeConfig.themeConfig}}},c=l,d=s("2877"),h=Object(d["a"])(c,i,a,!1,null,null,null);t["default"]=h.exports},"3eeb":function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-main",{staticClass:"layout-main"},[s("el-scrollbar",{directives:[{name:"show",rawName:"v-show",value:!e.currentRouteMeta.isLink&&!e.currentRouteMeta.isIframe,expression:"!currentRouteMeta.isLink && !currentRouteMeta.isIframe"}],ref:"layoutScrollbarRef",staticClass:"layout-scrollbar",style:{minHeight:"calc(100vh - "+e.headerHeight}},[s("LayoutParentView"),e.getThemeConfig.isFooter?s("Footers"):e._e()],1),e.currentRouteMeta.isLink&&!e.currentRouteMeta.isIframe?s("Links",{style:{height:"calc(100vh - "+e.headerHeight},attrs:{meta:e.currentRouteMeta}}):e._e(),e.currentRouteMeta.isLink&&e.currentRouteMeta.isIframe&&e.isShowLink?s("Iframes",{style:{height:"calc(100vh - "+e.headerHeight},attrs:{meta:e.currentRouteMeta},on:{getCurrentRouteMeta:e.onGetCurrentRouteMeta}}):e._e()],1)},a=[],n=s("6426"),r=s("ae5c"),o=s("0f3e"),u=s("e8dd"),l={name:"layoutMain",components:{LayoutParentView:n["default"],Footers:r["default"],Links:o["default"],Iframes:u["default"]},data(){return{headerHeight:"",currentRouteMeta:{},isShowLink:!1}},computed:{getThemeConfig(){return this.$store.state.themeConfig.themeConfig}},mounted(){this.initHeaderHeight(),this.initCurrentRouteMeta(this.$route.meta)},methods:{initCurrentRouteMeta(e){this.isShowLink=!1,this.currentRouteMeta=e,setTimeout(()=>{this.isShowLink=!0},100)},initHeaderHeight(){let{isTagsview:e}=this.$store.state.themeConfig.themeConfig;return this.headerHeight=e?"84px":"50px"},onGetCurrentRouteMeta(){this.initCurrentRouteMeta(this.$route.meta)}},watch:{"$store.state.themeConfig.themeConfig":{handler(e){if(this.headerHeight=e.isTagsview?"84px":"50px",e.isFixedHeaderChange!==e.isFixedHeader){if(!this.$refs.layoutScrollbarRef)return!1;this.$refs.layoutScrollbarRef.update()}},deep:!0},$route:{handler(e){this.initCurrentRouteMeta(e.meta),this.$refs.layoutScrollbarRef.wrap.scrollTop=0},deep:!0}}},c=l,d=s("2877"),h=Object(d["a"])(c,i,a,!1,null,null,null);t["default"]=h.exports},4260:function(e,t,s){"use strict";s("29fe")},4612:function(e,t,s){},"5da5":function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.clientWidth>1e3?s("el-aside",{staticClass:"layout-aside",class:e.setCollapseWidth},[e.setShowLogo?s("Logo"):e._e(),s("el-scrollbar",{ref:"layoutAsideRef",staticClass:"flex-auto"},[s("Vertical",{class:e.setCollapseWidth,attrs:{menuList:e.menuList}})],1)],1):s("el-drawer",{attrs:{visible:e.getThemeConfig.isCollapse,"with-header":!1,direction:"ltr",size:"220px"},on:{"update:visible":function(t){return e.$set(e.getThemeConfig,"isCollapse",t)}}},[s("el-aside",{staticClass:"layout-aside w100 h100"},[e.setShowLogo?s("Logo"):e._e(),s("el-scrollbar",{ref:"layoutAsideRef",staticClass:"flex-auto"},[s("Vertical",{attrs:{menuList:e.menuList}})],1)],1)],1)},a=[],n=s("22df"),r=s("6376"),o={name:"layoutAside",components:{Vertical:n["default"],Logo:r["default"]},data(){return{menuList:[],clientWidth:""}},computed:{setCollapseWidth(){let{layout:e,isCollapse:t}=this.$store.state.themeConfig.themeConfig,s="";return("classic"===e||"columns"===e)&&(s="layout-el-aside-br-color"),"columns"===e?t?["layout-aside-width1",s]:["layout-aside-width-default",s]:t?["layout-aside-width64",s]:["layout-aside-width-default",s]},setShowLogo(){let{layout:e,isShowLogo:t}=this.$store.state.themeConfig.themeConfig;return t&&"defaults"===e||t&&"columns"===e},getThemeConfig(){return this.$store.state.themeConfig.themeConfig}},created(){this.initMenuFixed(document.body.clientWidth),this.setFilterRoutes(),this.bus.$on("setSendColumnsChildren",e=>{this.menuList=e.children}),this.bus.$on("layoutMobileResize",e=>{this.initMenuFixed(e.clientWidth)}),this.bus.$on("updateElScrollBar",()=>{setTimeout(()=>{this.$refs.layoutAsideRef.update()},300)})},methods:{setFilterRoutes(){if("columns"===this.$store.state.themeConfig.themeConfig.layout)return!1;this.menuList=this.filterRoutesFun(this.$store.state.routesList.routesList)},filterRoutesFun(e){return e.filter(e=>!e.meta.isHide).map(e=>(e=Object.assign({},e),e.children&&(e.children=this.filterRoutesFun(e.children)),e))},initMenuFixed(e){this.clientWidth=e}},destroyed(){this.bus.$off("updateElScrollBar",()=>{})}},u=o,l=s("2877"),c=Object(l["a"])(u,i,a,!1,null,null,null);t["default"]=c.exports},"5f74":function(e,t,s){"use strict";s("b543")},6426:function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"h100"},[s("transition",{attrs:{name:e.setTransitionName,mode:"out-in"}},[s("keep-alive",{attrs:{include:e.keepAliveNameList}},[s("router-view",{key:e.refreshRouterViewKey})],1)],1)],1)},a=[],n={name:"parent",data(){return{refreshRouterViewKey:null,keepAliveNameList:[],keepAliveNameNewList:[]}},created(){this.keepAliveNameList=this.getKeepAliveNames(),this.bus.$on("onTagsViewRefreshRouterView",e=>{if(this.$route.path!==e)return!1;this.keepAliveNameList=this.getKeepAliveNames().filter(e=>this.$route.name!==e),this.refreshRouterViewKey=this.$route.path,this.$nextTick(()=>{this.refreshRouterViewKey=null,this.keepAliveNameList=this.getKeepAliveNames()})})},computed:{setTransitionName(){return this.$store.state.themeConfig.themeConfig.animation}},methods:{getKeepAliveNames(){return this.$store.state.keepAliveNames.keepAliveNames}}},r=n,o=s("2877"),u=Object(o["a"])(r,i,a,!1,null,null,null);t["default"]=u.exports},"6cf6":function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("transition",{attrs:{name:"el-zoom-in-center"}},[s("ul",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],staticClass:"el-dropdown-menu el-popper el-dropdown-menu--medium custom-contextmenu",style:"top: "+e.dropdowns.y+"px;left: "+e.dropdowns.x+"px;",attrs:{"x-placement":"bottom-end",id:"contextmenu"}},[e._l(e.dropdownList,(function(t,i){return s("li",{key:i,staticClass:"el-dropdown-menu__item",on:{click:function(s){return e.onCurrentContextmenuClick(t.id)}}},[t.affix?e._e():[s("i",{class:t.icon}),s("span",[e._v(e._s(e.$t(t.txt)))])]],2)})),s("div",{staticClass:"popper__arrow",style:{left:e.arrowLeft+"px"},attrs:{"x-arrow":""}})],2)])],1)},a=[],n={name:"layoutTagsViewContextmenu",props:{dropdown:{type:Object}},data(){return{isShow:!1,dropdownList:[{id:0,txt:"message.tagsView.refresh",affix:!1,icon:"el-icon-refresh-right"},{id:1,txt:"message.tagsView.close",affix:!1,icon:"el-icon-close"},{id:2,txt:"message.tagsView.closeOther",affix:!1,icon:"el-icon-circle-close"},{id:3,txt:"message.tagsView.closeAll",affix:!1,icon:"el-icon-folder-delete"}],path:{},arrowLeft:5}},computed:{dropdowns(){return this.dropdown.x+99>document.documentElement.clientWidth?{x:document.documentElement.clientWidth-99-5,y:this.dropdown.y}:this.dropdown}},mounted(){document.body.addEventListener("click",this.closeContextmenu)},methods:{onCurrentContextmenuClick(e){this.$emit("currentContextmenuClick",{id:e,path:this.path})},openContextmenu(e){this.path=e.path,e.meta.isAffix?this.dropdownList[1].affix=!0:this.dropdownList[1].affix=!1,this.closeContextmenu(),setTimeout(()=>{this.isShow=!0},80)},closeContextmenu(){this.isShow=!1}},destroyed(){document.body.removeEventListener("click",this.closeContextmenu)},watch:{dropdown:{handler({x:e}){e+99>document.documentElement.clientWidth?this.arrowLeft=99-(document.documentElement.clientWidth-e):this.arrowLeft=10},deep:!0}}},r=n,o=(s("241d"),s("2877")),u=Object(o["a"])(r,i,a,!1,null,"0d0eb624",null);t["default"]=u.exports},"7aeb":function(e,t,s){},a687:function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"layout-navbars-container"},[s("BreadcrumbIndex"),e.setShowTagsView?s("TagsView"):e._e()],1)},a=[],n=s("8637"),r=s("cd49"),o={name:"layoutNavBars",components:{BreadcrumbIndex:n["default"],TagsView:r["default"]},data(){return{}},computed:{setShowTagsView(){let{layout:e,isTagsview:t}=this.$store.state.themeConfig.themeConfig;return"classic"!==e&&t}}},u=o,l=(s("4260"),s("2877")),c=Object(l["a"])(u,i,a,!1,null,"6e26a00e",null);t["default"]=c.exports},a91a:function(e,t,s){"use strict";s("4612")},ae5c:function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"layout-footer mt15"},[s("div",{staticClass:"layout-footer-warp"},[s("div",[e._v("任务管理平台 后台管理系统 ️")]),s("div",{staticClass:"mt5"},[e._v(e._s(e.$t("message.login.copyright.one5")))])])])},a=[],n={name:"layoutFooter",data(){return{}}},r=n,o=(s("5f74"),s("2877")),u=Object(o["a"])(r,i,a,!1,null,"265a927c",null);t["default"]=u.exports},b543:function(e,t,s){},bb39:function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-header",{staticClass:"layout-header",attrs:{height:e.setHeaderHeight}},[s("NavBarsIndex")],1)},a=[],n=s("a687"),r={name:"layoutHeader",components:{NavBarsIndex:n["default"]},data(){return{}},computed:{setHeaderHeight(){let{isTagsview:e,layout:t}=this.$store.state.themeConfig.themeConfig;return e&&"classic"!==t?"84px":"50px"}}},o=r,u=s("2877"),l=Object(u["a"])(o,i,a,!1,null,null,null);t["default"]=l.exports},cd49:function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"layout-navbars-tagsview"},[s("el-scrollbar",{ref:"scrollbarRef",nativeOn:{wheel:function(t){return t.preventDefault(),e.onHandleScroll.apply(null,arguments)}}},[s("ul",{ref:"tagsUlRef",staticClass:"layout-navbars-tagsview-ul",class:e.setTagsStyle},e._l(e.tagsViewList,(function(t,i){return s("li",{key:i,ref:"tagsRefs",refInFor:!0,staticClass:"layout-navbars-tagsview-ul-li",class:{"is-active":t.path===e.tagsRoutePath},attrs:{"data-name":t.name},on:{contextmenu:function(s){return s.preventDefault(),e.onContextmenu(t,s)},click:function(s){return e.onTagsClick(t,i)}}},[t.path===e.tagsRoutePath?s("i",{staticClass:"iconfont icon-webicon318 layout-navbars-tagsview-ul-li-iconfont font14"}):e._e(),t.path!==e.tagsRoutePath&&e.getThemeConfig.isTagsviewIcon?s("i",{staticClass:"layout-navbars-tagsview-ul-li-iconfont font14 is-tagsview-icon",class:t.meta.icon}):e._e(),s("span",[e._v(e._s(e.$t(t.meta.title)))]),t.path===e.tagsRoutePath?s("i",{staticClass:"el-icon-refresh-right layout-navbars-tagsview-ul-li-icon ml5",on:{click:function(s){return s.stopPropagation(),e.refreshCurrentTagsView(t.path)}}}):e._e(),t.meta.isAffix?e._e():s("i",{staticClass:"el-icon-close layout-navbars-tagsview-ul-li-icon ml5",on:{click:function(s){return s.stopPropagation(),e.closeCurrentTagsView(t.path)}}})])})),0)]),s("Contextmenu",{ref:"tagsContextmenu",attrs:{dropdown:e.tagsDropdown},on:{currentContextmenuClick:e.onCurrentContextmenuClick}})],1)},a=[],n=(s("14d9"),s("13d5"),s("6cf6")),r=s("5d2d"),o={name:"tagsView",components:{Contextmenu:n["default"]},data(){return{userInfo:{},tagsViewList:[],tagsDropdown:{x:"",y:""},tagsRefsIndex:0,tagsRoutePath:this.$route.path,tagsViewRoutesList:[]}},computed:{getThemeConfig(){return this.$store.state.themeConfig.themeConfig},setTagsStyle(){return this.$store.state.themeConfig.themeConfig.tagsStyle}},created(){this.bus.$on("onCurrentContextmenuClick",e=>{this.onCurrentContextmenuClick(e)})},mounted(){this.getTagsViewRoutes()},methods:{getRoutesList(){return this.$store.state.routesList.routesList},onTagsClick(e,t){this.tagsRoutePath=e.path,this.tagsRefsIndex=t,this.$router.push(e)},getTagsRefsIndex(e){this.tagsViewList.length>0&&(this.tagsRefsIndex=this.tagsViewList.findIndex(t=>t.path===e))},onHandleScroll(e){this.$refs.scrollbarRef.$refs.wrap.scrollLeft+=e.wheelDelta/4},tagsViewmoveToCurrentTag(){this.$nextTick(()=>{const e=this.$refs.tagsRefs;if(e.length<=0)return!1;let t=e[this.tagsRefsIndex],s=this.tagsRefsIndex,i=e.length,a=e[0],n=e[e.length-1],r=this.$refs.scrollbarRef.$refs.wrap,o=r.scrollWidth,u=r.offsetWidth,l=r.scrollLeft,c=e[this.tagsRefsIndex-1],d=e[this.tagsRefsIndex+1],h="",f="";t===a?r.scrollLeft=0:t===n?r.scrollLeft=o-u:(h=0===s?(null===a||void 0===a?void 0:a.offsetLeft)-5:(null===c||void 0===c?void 0:c.offsetLeft)-5,f=s===i?(null===n||void 0===n?void 0:n.offsetLeft)+n.offsetWidth+5:(null===d||void 0===d?void 0:d.offsetLeft)+d.offsetWidth+5,f>l+u?r.scrollLeft=f-u:h<l&&(r.scrollLeft=h)),this.updateScrollbar()})},updateScrollbar(){this.$refs.scrollbarRef.update()},filterCurrentMenu(e,t,s){e.map(e=>{if(e.path===t)return s(e),!1;e=Object.assign({},e),e.children&&(e.children=this.filterCurrentMenu(e.children,t,s))})},duplicate(e){let t={};return e=e.reduce((e,s)=>(!t[s.path]&&(t[s.path]=e.push(s)),e),[]),e},getTagsViewRoutes(){this.tagsRoutePath=this.$route.path,this.tagsViewList=[],this.$store.state.themeConfig.themeConfig.isCacheTagsView||r["Session"].remove("tagsViewList"),this.tagsViewRoutesList=this.$store.state.tagsViewRoutes.tagsViewRoutes,this.initTagsViewList()},addBrowserSetSession(e){r["Session"].set("tagsViewList",e)},initTagsViewList(){r["Session"].get("tagsViewList")&&this.$store.state.themeConfig.themeConfig.isCacheTagsView?this.tagsViewList=r["Session"].get("tagsViewList"):(this.tagsViewRoutesList.map(e=>{e.meta.isAffix&&!e.meta.isHide&&this.tagsViewList.push({...e})}),this.addTagsView(this.$route.path)),this.getTagsRefsIndex(this.$route.path),this.tagsViewmoveToCurrentTag()},addTagsView(e,t){if(this.tagsViewList.some(t=>t.path===e))return!1;const s=this.tagsViewRoutesList.find(t=>t.path===e);if(s.meta.isLink&&!s.meta.isIframe)return!1;s.query=null!==t&&void 0!==t&&t.query?null===t||void 0===t?void 0:t.query:this.$route.query,this.tagsViewList.push({...s}),this.addBrowserSetSession(this.tagsViewList)},onContextmenu(e,t){let{clientX:s,clientY:i}=t;this.tagsDropdown.x=s,this.tagsDropdown.y=i,this.$refs.tagsContextmenu.openContextmenu(e)},onCurrentContextmenuClick(e){let{id:t,path:s}=e,i=this.tagsViewList.find(e=>e.path===s);switch(t){case 0:this.refreshCurrentTagsView(s),this.$router.push({path:s,query:i.query});break;case 1:this.closeCurrentTagsView(s);break;case 2:this.$router.push({path:s,query:i.query}),this.closeOtherTagsView(s);break;case 3:this.closeAllTagsView(s);break}},refreshCurrentTagsView(e){this.bus.$emit("onTagsViewRefreshRouterView",e)},closeCurrentTagsView(e){this.tagsViewList.map((t,s,i)=>{t.meta.isAffix||t.path===e&&(this.tagsViewList.splice(s,1),setTimeout(()=>{this.tagsViewList.length===s?this.$router.push({path:i[i.length-1].path,query:i[i.length-1].query}):this.$router.push({path:i[s].path,query:i[s].query})},0))}),this.addBrowserSetSession(this.tagsViewList)},closeOtherTagsView(e){this.tagsViewList=[],this.tagsViewRoutesList.map(e=>{e.meta.isAffix&&!e.meta.isHide&&this.tagsViewList.push({...e})}),this.addTagsView(e)},closeAllTagsView(e){this.tagsViewList=[],this.tagsViewRoutesList.map(t=>{t.meta.isAffix&&!t.meta.isHide&&(this.tagsViewList.push({...t}),this.tagsViewList.some(t=>t.path===e)?this.$router.push({path:e,query:this.$route.query}):this.$router.push({path:t.path,query:this.$route.query}))}),this.addBrowserSetSession(this.tagsViewList)}},watch:{$route:{handler(e){this.tagsRoutePath=e.path,this.addTagsView(e.path,e),this.getTagsRefsIndex(e.path),this.tagsViewmoveToCurrentTag()},deep:!0}},destroyed(){this.bus.$off("onCurrentContextmenuClick")}},u=o,l=(s("a91a"),s("2877")),c=Object(l["a"])(u,i,a,!1,null,"5e2c4d82",null);t["default"]=c.exports},e8dd:function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{directives:[{name:"loading",rawName:"v-loading",value:e.iframeLoading,expression:"iframeLoading"}],staticClass:"layout-view-bg-white flex h100"},[s("iframe",{attrs:{src:e.meta.isLink,frameborder:"0",height:"100%",width:"100%",id:"iframe"}})])])},a=[],n={name:"layoutIfameView",props:{meta:{type:Object,default:()=>{}}},data(){return{iframeLoading:!0}},created(){this.bus.$on("onTagsViewRefreshRouterView",e=>{if(this.$route.path!==e)return!1;this.$emit("getCurrentRouteMeta")})},mounted(){this.initIframeLoad()},methods:{initIframeLoad(){this.$nextTick(()=>{this.iframeLoading=!0;const e=document.getElementById("iframe");if(!e)return!1;e.onload=()=>{this.iframeLoading=!1}})}}},r=n,o=s("2877"),u=Object(o["a"])(r,i,a,!1,null,null,null);t["default"]=u.exports},ec81:function(e,t,s){}}]);